.. _awx-playbook-project:

##################################################
GitLab のプロジェクトを指定
##################################################
実行するプレイブックを含むプロジェクトを指定します。

.. _awx-playbook-project-gitlab:

**************************************************
GitLab サーバーでプロジェクトの URL を取得
**************************************************
#. 実行するプレイブックを含むプロジェクトをクリック

   .. image:: img/2021-07-10_14h35_21.png

#. :guilabel:`Clone` をクリック

   .. image:: img/2021-07-10_14h35_55.png

#. 「 Clone with SSH 」欄の URL をクリップボードにコピー

   .. image:: img/2021-07-10_14h36_50.png

#. クリップボードにコピーした URL をテキストエディタに貼り付け

   .. image:: img/2021-07-10_14h38_34.png

.. _awx-playbook-project-awx:

**************************************************
GitLab サーバーのプロジェクトを指定
**************************************************
#. :guilabel:`プロジェクト` をクリック

   .. image:: img/2021-07-10_14h39_33.png
      :scale: 60%

#. :guilabel:`追加` をクリック

   .. image:: img/2021-07-10_14h39_45.png
      :scale: 60%

#. 各項目に値を入力

   .. list-table::
      :header-rows: 1
      :widths: 1, 3
    
      * - 項目名
        - 入力する値
      * - 名前
        - プロジェクト名
      * - 組織
        - :guilabel:`Default`
      * - ソースコントロール認証情報タイプ
        - プルダウンリストから :guilabel:`Git` を選択
      * - ソースコントロールの URL
        - テキストエディタに貼り付けた URL を貼り付け
      * - ソースコントロール認証情報
        - 「 :ref:`awx-playbook-ninsho` 」で作成した認証情報を選択
      * - オプション
        - 必要な項目にチェックを入れる

   .. image:: img/2021-07-10_14h52_41.png
      :scale: 60%

#. :guilabel:`保存` をクリック

   .. image:: img/2021-07-10_14h53_13.png
      :scale: 60%

#. :guilabel:`同期` をクリック

   .. image:: img/2021-07-10_14h54_41.png
      :scale: 60%

#. 「 Last Job Status 」に "Successful" の表示を確認

   .. image:: img/2021-07-10_14h55_55.png
      :scale: 60%

   .. note::

      「 Last Job Status 」が "Successful" 以外のときは設定情報に誤りがあります。 :guilabel:`編集` をクリックして設定画面に戻って内容を見直してください。認証情報似誤りがあると "Successful" になりません。「 :ref:`awx-playbook-ninsho` 」に誤りが無いかも見直してください。

#. :guilabel:`プロジェクトに戻る` をクリック

   .. image:: img/2021-07-10_14h56_05.png
      :scale: 60%

#. 登録したプロジェクトを確認

   .. image:: img/2021-07-10_14h56_45.png
      :scale: 60%
