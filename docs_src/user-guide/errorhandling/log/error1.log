piyo@vmpc:~/example/err$ ansible-playbook -i hosts.yml error1.yml 

PLAY [Example of error handling usage] ***************************************************************************************************************

TASK [First processing] ******************************************************************************************************************************
ok: [hydrogen] => {
    "msg": "Hello world!"
}

TASK [Checking file differences] *********************************************************************************************************************
fatal: [hydrogen]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/libexec/platform-python"}, "changed": true, "cmd": ["diff", "file1", "file2"], "delta": "0:00:00.004124", "end": "2021-04-03 17:00:16.936607", "msg": "non-zero return code", "rc": 1, "start": "2021-04-03 17:00:16.932483", "stderr": "", "stderr_lines": [], "stdout": "1c1\n< abc\n---\n> xyz", "stdout_lines": ["1c1", "< abc", "---", "> xyz"]}

PLAY RECAP *******************************************************************************************************************************************
hydrogen                   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

piyo@vmpc:~/example/err$ 
